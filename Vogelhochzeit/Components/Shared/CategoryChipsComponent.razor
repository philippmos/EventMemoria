@using Microsoft.AspNetCore.Components

<MudPaper Class="pa-4" Elevation="0" Style="background: rgba(255, 255, 255, 0.6); backdrop-filter: blur(10px);">
    <div class="categories-container d-flex gap-2 mb-4" style="overflow-x: auto; -webkit-overflow-scrolling: touch;">
        @for (int i = 0; i < Categories.Length; i++)
        {
            var categoryIndex = i;
            <MudChip T="string" Size="Size.Medium" 
                     Style="@GetChipStyle(categoryIndex)"
                     @onclick="() => OnCategorySelected.InvokeAsync(categoryIndex)">
                @Categories[categoryIndex]
            </MudChip>
        }
    </div>
</MudPaper>

@code {
    [Parameter] public string[] Categories { get; set; } = Array.Empty<string>();
    [Parameter] public int SelectedCategoryIndex { get; set; } = 0;
    [Parameter] public EventCallback<int> OnCategorySelected { get; set; }

    private string GetChipStyle(int categoryIndex)
    {
        if (categoryIndex == SelectedCategoryIndex)
        {
            return "background-color: #C4A4C7; color: white; border-radius: 20px; min-width: fit-content; font-weight: 500;";
        }
        else
        {
            return "background-color: #E8E8E8; color: #666; border-radius: 20px; min-width: fit-content;";
        }
    }
}
